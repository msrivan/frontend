<app-menu></app-menu>
<div class="main-content page-m">
    <div class="section-content section-content-p30">
        <div class="container-fluid">
            <form [formGroup]="checkoutFormGroup" (ngSubmit)="onSubmit()">


    <div formGroupName="creditCard" class="form-area">
    <h3>Credit card</h3>

            <div class="row">
                <div class="col-md-2">
                    <label>Card type</label>
                </div>
                <div class="col-md-9">
                    <div class="form-group">
                        <select formControlName="cardType" id="" class="form-control">
                            <option value="visa">Visa</option>
                            <option value="MasterCard">Mastercard</option>
                        </select>

                        <div *ngIf="creditCardType.invalid && (creditCardType.dirty || creditCardType.touched)" class="alert alert-danger mt-1">
                            <div *ngIf="creditCardType.errors.required">
                                Credit CardType is required
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-2">
                    <label>Name On Card</label>
                </div>
                <div class="col-md-9">
                    <div class="form-group">
                        <input type="text" formControlName="nameOnCard" class="form-control">

                        <div *ngIf="creditCardNameOnCard.invalid && (creditCardNameOnCard.dirty || creditCardNameOnCard.touched)" class="alert alert-danger mt-1">
                            <div *ngIf="creditCardNameOnCard.errors.required || creditCardNameOnCard.errors.notOnlyWhiteSpaces">
                                Name On card is required
                            </div>
                            <div *ngIf="creditCardNameOnCard.errors.minlength">
                                Name On card must be at least 2 characters long.
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2">
                    <label>Card number</label>
                </div>
                <div class="col-md-9">
                    <div class="form-group">
                        <input type="text" formControlName="cardNumber" class="form-control">

                        <div *ngIf="creditCardNumber.invalid && (creditCardNumber.dirty || creditCardNumber.touched)" class="alert alert-danger mt-1">
                            <div *ngIf="creditCardNumber.errors.required || creditCardNumber.errors.notOnlyWhiteSpaces">
                                Card number is required
                            </div>
                            <div *ngIf="creditCardNumber.errors.pattern">
                                Card number must be 16 digits long.
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2">
                    <label>Security Code</label>
                </div>
                <div class="col-md-9">
                    <div class="form-group">
                        <input type="text" formControlName="securityCode" class="form-control">
                        <div *ngIf="creditCardSecurityCode.invalid && (creditCardSecurityCode.dirty || creditCardSecurityCode.touched)" class="alert alert-danger mt-1">
                            <div *ngIf="creditCardSecurityCode.errors.required || creditCardSecurityCode.errors.notOnlyWhiteSpaces">
                                Security code is required
                            </div>
                            <div *ngIf="creditCardSecurityCode.errors.pattern">
                                Security code must be 3 digits long.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2">
                    <label>Expiration Month</label>
                </div>
                <div class="col-md-9">
                    <div class="form-group">
                        <select formControlName="expirationMonth" id="" class="form-control">
                            <option *ngFor="let tempMonth of creditCardMonths">
                                {{ tempMonth }}
                            </option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2">
                    <label>Expiration Year</label>
                </div>
                <div class="col-md-9">
                    <div class="form-group">
                        <select formControlName="expirationYear" (change)="onChangeYear()" class="form-control">
                            <option *ngFor="let tempYear of creditCardYears">
                                {{ tempYear }}
                            </option>
                        </select>
                    </div>
                </div>
            </div>


            </div>
     <div >
        
          <button type="submit" (click)="paymentFunc()" class="btn btn-primary btn-block">Purchase</button>
     </div>
                </form>
            </div>
        
    </div>

